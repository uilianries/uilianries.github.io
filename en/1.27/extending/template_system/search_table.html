



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTML output for conan search table &mdash; conan 1.27.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="conan 1.27.1 documentation" href="../../index.html"/>
        <link rel="up" title="Template system" href="../template_system.html"/>
        <link rel="next" title="Graph output for conan info command" href="info_graph.html"/>
        <link rel="prev" title="Template system" href="../template_system.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../../_static/conan-logo.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../extending.html">Extending Conan</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../custom_settings.html">Customizing settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_requires.html">Python requires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_requires_legacy.html">Python requires (legacy)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hooks.html">Hooks</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../template_system.html">Template system</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">HTML output for <strong class="command">conan search</strong> table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#context">Context</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="info_graph.html">Graph output for <strong class="command">conan info</strong> command</a></li>
<li class="toctree-l3"><a class="reference internal" href="command_new.html">Package scaffolding for <strong class="command">conan new</strong> command</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conan_v2.html">Road to Conan 2.0</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="https://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("https://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../extending.html">Extending Conan</a> &raquo;</li>
        
          <li><a href="../template_system.html">Template system</a> &raquo;</li>
        
      <li>HTML output for <strong class="command">conan search</strong> table</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/master/extending/template_system/search_table.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->
          <!--<div class="admonition important"> Join the <a href=https://blog.conan.io/2020/07/28/Launching-Conan-2.0-Tribe.html>Conan 2.0 Tribe</a> and contribute to define the next Conan 2.0 major version</div>-->
          <div class="admonition important">
            <p class="admonition-title">Announcement</p>
            <p>Check out the new free <a
            href=https://blog.conan.io/2020/09/24/New-conan-training-series.html>Conan
            training courses on JFrog Academy</a>!
          </div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="html-output-for-conan-search-table">
<span id="template-search-table"></span><h1>HTML output for <strong class="command">conan search</strong> table<a class="headerlink" href="#html-output-for-conan-search-table" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This has to be an considered as an <strong>experimental</strong> feature, we might
change the context provided to this templates once we have more exmpales
from the community.</p>
</div>
<p>The <a class="reference internal" href="../../reference/commands/consumer/search.html#conan-search"><span class="std std-ref">conan search</span></a> command can generate an HTML table with the results of the
query when looking for binaries</p>
<a class="reference internal image-reference" href="../../_images/conan-search_binary_table.png"><img alt="../../_images/conan-search_binary_table.png" class="align-center" src="../../_images/conan-search_binary_table.png" style="width: 600px; height: 500px;" /></a>
<p>This is the default Canan provides, but you can use your own
<a class="reference external" href="https://palletsprojects.com/p/jinja/">Jinja2 documentation</a> template to customize
this output to your needs:</p>
<blockquote>
<div><ul class="simple">
<li><em>&lt;cache&gt;/templates/output/search_table.html</em>.</li>
</ul>
</div></blockquote>
<div class="section" id="context">
<h2>Context<a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h2>
<p>Conan feeds this template with the information about the packages found, this information
is called context and it contains these objects:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">base_template_path</span></code>: absolute path to the directory where the choosen template file is
located. It is needed if your output file needs to link assets distributed together
with the template file.</li>
<li><code class="docutils literal notranslate"><span class="pre">search</span></code>: it contains the pattern used in the command line to search packages.</li>
<li><code class="docutils literal notranslate"><span class="pre">results</span></code>: this object contains all the information retrieved from the remotes, it
is used to get the headers and the rows.</li>
</ul>
</div></blockquote>
<p>When the output is a table, the first thing needed are the headers, these can be a sinle row
or two rows like the image above. In order to get the headers you should use
<code class="docutils literal notranslate"><span class="pre">results.get_headers(keys)</span></code> with a list of extra <code class="docutils literal notranslate"><span class="pre">keys</span></code> you want to include (see example below).
Conan will always return a header for all the different settings and options values, with this <code class="docutils literal notranslate"><span class="pre">keys</span></code>
list variable you can retrieve other information that might be useful in your table like <code class="docutils literal notranslate"><span class="pre">remote</span></code>,
<code class="docutils literal notranslate"><span class="pre">reference</span></code>, <code class="docutils literal notranslate"><span class="pre">outdated</span></code> or <code class="docutils literal notranslate"><span class="pre">package_id</span></code>.</p>
<p>Then you can use the returned object to get the actual headers:</p>
<blockquote>
<div><ul>
<li><p class="first">single row headers: it just returns a list with all the headers, it is straightforward to use:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
        {%- set headers = results.get_headers(keys=[&#39;remote&#39;, &#39;package_id&#39;]) %}
        {%- for header in headers.row(n_rows=1) %}
        <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>{{ header }}<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
        {%- endfor %}
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">two-rows headers: it returns a list of tuples like the following one:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;os&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]),</span> <span class="p">(</span><span class="s1">&#39;arch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]),</span> <span class="p">(</span><span class="s1">&#39;compiler&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="s1">&#39;libcxx&#39;</span><span class="p">]),]</span>
</pre></div>
</div>
</div></blockquote>
<p>The first element for this tuple is intended for the top row, while the second element lists
all the subsettings in the top header category. An empty string means there is no category, like
<code class="docutils literal notranslate"><span class="pre">compiler=Visual</span> <span class="pre">Studio</span></code>.</p>
<p>Composing the table headers in HTML requires some more code in the template:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
    {%- set headers = results.get_headers(keys=[&#39;remote&#39;, &#39;package_id&#39;]) %}
    {%- set headers2rows = headers.row(n_rows=2) %}
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
        {%- for category, subheaders in headers2rows %}
            <span class="p">&lt;</span><span class="nt">th</span> <span class="na">rowspan</span><span class="o">=</span><span class="s">&quot;{% if subheaders|length == 1 and not subheaders[0] %}2{% else %}1{% endif %}&quot;</span> <span class="na">colspan</span><span class="o">=</span><span class="s">&quot;{{ subheaders|length }}&quot;</span><span class="p">&gt;</span>
                {{ category }}
            <span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
        {%- endfor %}
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
        {%- for category, subheaders in headers2rows %}
            {%- if subheaders|length != 1 or subheaders[0] != &#39;&#39; %}
                {%- for subheader in subheaders %}
                    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>{{ subheader|default(category, true) }}<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
                {%- endfor %}
            {%- endif %}
        {%- endfor %}
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>Once the headers are done, iterating the rows is easy. You should use <code class="docutils literal notranslate"><span class="pre">results.packages()</span></code>
to get an iterable with the list of results and then, for each of the rows, the fields.
You need to provide the <code class="docutils literal notranslate"><span class="pre">headers</span></code> to retrieve the fields you need in the proper order
according to the table headers:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
    {%- for package in results.packages() %}
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            {%- for item in package.row(headers) %}
                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ item if item != None else &#39;&#39;}}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            {%- endfor %}
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    {%- endfor %}
<span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">package</span></code> object in the snippet above that represents one of the query results
contain some fields that can be useful to compose the text for an <code class="docutils literal notranslate"><span class="pre">alt</span></code> field in the HTML:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">remote</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">reference</span></code> or <code class="docutils literal notranslate"><span class="pre">recipe</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">package_id</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">outdated</span></code></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="info_graph.html" class="btn btn-neutral float-right" title="Graph output for conan info command" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../template_system.html" class="btn btn-neutral" title="Template system" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, JFrog.
      <span><a href="#" class="ot-sdk-show-settings">Cookies Settings</a></span>
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 1.27
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          
            <dd><a href="/en/latest/index.html">1.30</a></dd>
          
        
          
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
          
        
          
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
          
        
          
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
          
        
          
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
          
        
          
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
          
        
          
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
          
        
          
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
          
        
          
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
          
        
          
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
          
        
          
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
          
        
          
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
          
        
          
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
          
        
          
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
          
        
          
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
          
        
          
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
          
        
          
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
          
        
          
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
          
        
          
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
          
        
          
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
          
        
          
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
          
        
          
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
          
        
          
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
          
        
          
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
          
        
          
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
          
        
          
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
          
        
          
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
          
        
          
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
          
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/en/1.27/conan.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.27.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../_static/js/modernizr.min.js"></script>
  <script src="../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("1.27");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>