



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lockfiles in Continuous Integration &mdash; conan 1.28.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="conan 1.28.2 documentation" href="../../index.html"/>
        <link rel="up" title="Lockfiles" href="../lockfiles.html"/>
        <link rel="next" title="Mastering Conan" href="../../mastering.html"/>
        <link rel="prev" title="Build order in lockfiles" href="build_order.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../../_static/conan-logo.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../versioning.html">Versioning</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction to versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../version_ranges.html">Version ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../revisions.html">Package Revisions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../lockfiles.html">Lockfiles</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="configurations.html">Multiple configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="build_order.html">Build order in lockfiles</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Lockfiles in Continuous Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#repositories">Repositories</a></li>
<li class="toctree-l4"><a class="reference internal" href="#package-pipeline">Package pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#products-pipeline">Products pipeline</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conan_v2.html">Road to Conan 2.0</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="https://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("https://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../versioning.html">Versioning</a> &raquo;</li>
        
          <li><a href="../lockfiles.html">Lockfiles</a> &raquo;</li>
        
      <li>Lockfiles in Continuous Integration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/master/versioning/lockfiles/ci.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->
          <!--<div class="admonition important"> Join the <a href=https://blog.conan.io/2020/07/28/Launching-Conan-2.0-Tribe.html>Conan 2.0 Tribe</a> and contribute to define the next Conan 2.0 major version</div>-->
          <div class="admonition important">
            <p class="admonition-title">Announcement</p>
            <p>Check out the new free <a
            href=https://blog.conan.io/2020/09/24/New-conan-training-series.html>Conan
            training courses on JFrog Academy</a>!
          </div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lockfiles-in-continuous-integration">
<span id="versioning-lockfiles-ci"></span><h1>Lockfiles in Continuous Integration<a class="headerlink" href="#lockfiles-in-continuous-integration" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>This section provides an example of application of the <strong>lockfiles</strong> in a Continuous Integration
case. It doesn’t aim to present a complete solution or the only possible one, depending on the
project, the team, the requirements, the constraints, etc., other approaches might be recommended.</p>
<dl class="docutils">
<dt>In this section we are going to use the same packages than in the previous one, defining this</dt>
<dd>dependency graph.</dd>
</dl>
<a class="reference internal image-reference" href="../../_images/conan_lock_build_order.png"><img alt="../../_images/conan_lock_build_order.png" class="align-center" src="../../_images/conan_lock_build_order.png" style="width: 400px; height: 200px;" /></a>
<p>The example scenario is a developer doing some changes in <code class="docutils literal notranslate"><span class="pre">libb</span></code>, that include bumping the
version to <code class="docutils literal notranslate"><span class="pre">libb/0.2</span></code>. We will structure the CI in two parts:</p>
<ul class="simple">
<li>Building <code class="docutils literal notranslate"><span class="pre">libb/0.2&#64;user/testing</span></code> to check that it is working fine.</li>
<li>Building the downstream applications <code class="docutils literal notranslate"><span class="pre">app1/0.1&#64;user/testing</span></code> and <code class="docutils literal notranslate"><span class="pre">app2/0.2&#64;user/testing</span></code>
to check if they build correctly, or if they are broken by those changes.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The code used in this section, including a <em>build.py</em> script to reproduce it, is in the
examples repository: <a class="reference external" href="https://github.com/conan-io/examples">https://github.com/conan-io/examples</a>. You can go step by step
reproducing this example while reading the below documentation.</p>
<div class="code bash last highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/conan-io/examples.git
$ cd features/lockfiles/ci
# $ python build.py only to run the full example, but better go step by step
</pre></div>
</div>
</div>
<p>The example in this section uses <code class="docutils literal notranslate"><span class="pre">full_version_mode</span></code>, that is, if a package changes any part of its version, its consumers will
need to build a new binary because a new <code class="docutils literal notranslate"><span class="pre">package_id</span></code> will be computed.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan config set general.default_package_id_mode=full_version_mode
</pre></div>
</div>
<p>This example will use version ranges, and it is not necessary to have revisions enabled. It also do not require
a server, everything can be reproduced locally, although the usage of different repositories will be introduced.</p>
<div class="section" id="repositories">
<h2>Repositories<a class="headerlink" href="#repositories" title="Permalink to this headline">¶</a></h2>
<p>When a developer does some changes, the CI wants to build those changes, create packages, and check if everything
is ok. But while checking it, it is better to not pollute the main Conan remote repository with temporary packages
until we are fully sure that it is not breaking anything. So we could use 2 repositories:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">conan-develop</span></code>: this would be the team/project reference repository. Developers and CI will use this by default to
retrieve Conan packages with precompiled binaries. Similarly to a git “develop” branch, it could be assumed that
the packages in this repository work correctly, have been tested before being put there. It could also be expected
that the repository contains pre-compiled binaries, so building from sources shouldn’t be necessary.</li>
<li><code class="docutils literal notranslate"><span class="pre">conan-build</span></code>: a repository mainly for CI purposes. When CI is creating packages in a pipeline, it can put those
packages in this repository, so they can still be used in the CI pipelines, be fetched by some build agents to
build other packages. These temporary packages will not disrupt the operations and usage of <code class="docutils literal notranslate"><span class="pre">conan-develop</span></code>
repository used by other CI jobs and developers.</li>
</ul>
<p>Let’s create the first version of the packages, for both Debug and Release configurations:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan create liba liba/0.1@user/testing -s build_type=Release
$ conan create libb libb/0.1@user/testing -s build_type=Release
$ conan create libc libc/0.1@user/testing -s build_type=Release
$ conan create libd libd/0.1@user/testing -s build_type=Release
$ conan create app1 app1/0.1@user/testing -s build_type=Release
$ conan create app2 app2/0.1@user/testing -s build_type=Release
$ conan create liba liba/0.1@user/testing -s build_type=Debug
...
</pre></div>
</div>
<p>Now let’s say that one developer does some change to <code class="docutils literal notranslate"><span class="pre">libb</span></code>:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ vim libb/conanfile.py
# do some changes and save
</pre></div>
</div>
<p>These changes are local in this example, in reality they will be typically in the form of a Pull Request,
wanting to merge those changes in the main “develop” branch.</p>
</div>
<div class="section" id="package-pipeline">
<h2>Package pipeline<a class="headerlink" href="#package-pipeline" title="Permalink to this headline">¶</a></h2>
<p>The first thing the CI will do is to build <code class="docutils literal notranslate"><span class="pre">libb/0.2&#64;user/testing</span></code> package, containing the developer
changes, for different configurations. As we want to make sure that all different configurations are
built with the same versions of the dependencies, the first thing is to capture a “base” lockfile of
the dependencies of <code class="docutils literal notranslate"><span class="pre">libb</span></code>:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd libb
$ conan lock create conanfile.py --name=libb --version=0.2 --user=user --channel=testing
  --lockfile-out=../locks/libb_deps_base.lock --base
</pre></div>
</div>
<p>This will capture the <em>libb_deps_base.lock</em> file with the versions of <code class="docutils literal notranslate"><span class="pre">libb</span></code> dependencies, in this case
<code class="docutils literal notranslate"><span class="pre">liba/0.1&#64;user/testing</span></code>. Now that we have this file, new versions of <code class="docutils literal notranslate"><span class="pre">liba</span></code> could be created, but they
will not be used:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd ..
$ conan create liba liba/0.2@user/testing
</pre></div>
</div>
<p>We want to test the changes for several different configurations, so the first step would be to derive a new
lockfile for each configuration/profile from the <em>libb_deps_base.lock</em>:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd libb

# Derive one lockfile per profile/configuration
$ conan lock create conanfile.py --name=libb --version=0.2
  --user=user --channel=testing --lockfile=../locks/libb_base.lock
  --lockfile-out=../locks/libb_deps_debug.lock -s build_type=Debug
$ conan lock create conanfile.py --name=libb --version=0.2
  --user=user --channel=testing --lockfile=../locks/libb_base.lock
  --lockfile-out=../locks/libb_deps_release.lock

# Create the package binaries, one with each lockfile
$ conan create . libb/0.2@user/testing --lockfile=../locks/libb_deps_release.lock
$ conan create . libb/0.2@user/testing --lockfile=../locks/libb_deps_debug.lock
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is important to note that it is not necessary to build all configurations in this build agent.
One of the advantages of using lockfiles is that the build can be delegated to other agents,
as long as they get the right commit of <code class="docutils literal notranslate"><span class="pre">libb</span></code> repo and the lockfile, they can build
the desired package with the right dependencies.</p>
</div>
<p>Once everything is building ok, and <code class="docutils literal notranslate"><span class="pre">libb/0.2&#64;user/testing</span></code> package is created correctly for all profiles,
we want to check if this new version can be integrated safely in its consumers. When using revisions (not
this example), it is important to capture the recipe revision, and lock it too. We can capture the recipe
revision doing an export, creating a new <em>libb_base.lock</em> lockfile:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan export . libb/0.2@user/testing --lockfile=../locks/libb_deps_base.lock
  --lockfile-out=../locks/libb_base.lock
</pre></div>
</div>
</div>
<div class="section" id="products-pipeline">
<h2>Products pipeline<a class="headerlink" href="#products-pipeline" title="Permalink to this headline">¶</a></h2>
<p>There is an important question to be addressed: <strong>when a package changes, what other packages
consuming it should be rebuild to account for this change?</strong>. The problem might be harder than
it seems at first sight, or from the observation of the graph above. It shows that <code class="docutils literal notranslate"><span class="pre">libd/0.1</span></code>
has a dependency to <code class="docutils literal notranslate"><span class="pre">libb/0.1</span></code>, does it means that a new <code class="docutils literal notranslate"><span class="pre">libb/0.2</span></code> should produce a re-build
of <code class="docutils literal notranslate"><span class="pre">libd/0.1</span></code> to link with the new version? Not always, if <code class="docutils literal notranslate"><span class="pre">libd</span></code> had a pinned dependency
and not a version range, it will never resolve to the new version, and then it doesn’t and it
cannot be rebuil unless some developer do some changes to <code class="docutils literal notranslate"><span class="pre">libd</span></code> and bump the requirement.</p>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">libd</span></code> contains a version range, and if we evaluate it, we will see that the
new <code class="docutils literal notranslate"><span class="pre">libb/0.2</span></code> version lies within the range, and then yes, it needs a new binary to be built,
otherwise our repository of packages will have missing binaries.</p>
<p>One important problem is the combinatoric explosion that happens downstream. Projects evolve and
packages will eventually have many versions and even many revisions. In our example, we could
have in our repository many <code class="docutils literal notranslate"><span class="pre">libd/0.0.1</span></code>, <code class="docutils literal notranslate"><span class="pre">libd/0.0.2</span></code>, …, <code class="docutils literal notranslate"><span class="pre">libd/0.0.34</span></code> versions, all of
them with a requirement to <code class="docutils literal notranslate"><span class="pre">libb</span></code>. Each one could be in turn consumed by multiple <code class="docutils literal notranslate"><span class="pre">app1</span></code> versions.</p>
<p>We could think to consider as consumer only the latest version of <code class="docutils literal notranslate"><span class="pre">libd</span></code>. But it is also totally
possible that some developer has already uploaded a <code class="docutils literal notranslate"><span class="pre">libd/2.0</span></code> version, with a breaking new API,
aimed for the next major version of <code class="docutils literal notranslate"><span class="pre">app1</span></code>.</p>
<p>So the only alternative to be both efficient and have a robust Continuous Integration of changes in
our core “products” is to explictly define those “products”. In our case we will define that our
products are <code class="docutils literal notranslate"><span class="pre">app1/0.1&#64;user/testing</span></code> and <code class="docutils literal notranslate"><span class="pre">app2/0.1&#64;user/testing</span></code>. This product definition could
change as we keep doing releases of our products to our customers.</p>
<p>The first step in the products pipeline would be to capture the lockfiles for the different configurations
we want to build for our products. As explained above, we can first capture a “base” lockfile of
<code class="docutils literal notranslate"><span class="pre">app1/0.1&#64;user/testing</span></code>, using the previous <em>libb_base.lock</em>, to make sure that we are using the locked
versions for both <code class="docutils literal notranslate"><span class="pre">libb/0.2&#64;user/testing</span></code> and <code class="docutils literal notranslate"><span class="pre">liba/0.1&#64;user/testing</span></code>, as this was the snapshot of
existing versions when the CI pipeline started, even if later a <code class="docutils literal notranslate"><span class="pre">liba/0.2&#64;user/testing</span></code> was created.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan lock create --reference=app1/0.1@user/testing --lockfile=locks/libb_base.lock
  --lockfile-out=locks/app1_base.lock --base
</pre></div>
</div>
<p>The <em>app1_base.lock</em> lockfile will capture and lock <code class="docutils literal notranslate"><span class="pre">libd/0.1&#64;user/testing</span></code> and <code class="docutils literal notranslate"><span class="pre">libc/0.1&#64;user/testing</span></code>.
Now, even if those packages also got new versions, they will not be used, even if they fit in the version range.
The <em>app1_base.lock</em> lockfile can be in turn used to capture complete lockfiles, one per profile/configuration:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan lock create --reference=app1/0.1@user/testing --lockfile=locks/app1_base.lock
  --lockfile-out=locks/app1_release.lock
$ conan lock create --reference=app1/0.1@user/testing --lockfile=locks/app1_base.lock
  --lockfile-out=locks/app1_debug.lock -s build_type=Debug
</pre></div>
</div>
<p>The build-order can now be computed, also for each configuration:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan lock build-order locks/app1_release.lock --json=bo_release.json
[[[&#39;libd/0.1@user/testing&#39;, &#39;b03c813b34cfab7a095fd903f7e8df2114e2b858&#39;, &#39;host&#39;, &#39;4&#39;]],
 [[&#39;app1/0.1@user/testing&#39;, &#39;15d2c695ed8d421c0d8932501fc654c8083e6582&#39;, &#39;host&#39;, &#39;3&#39;]]]

$ conan lock build-order locks/app1_debug.lock --json=bo_debug.json
[[[&#39;libd/0.1@user/testing&#39;, &#39;67a26cfbef78ad4905bec085664768c209d14fda&#39;, &#39;host&#39;, &#39;4&#39;]],
 [[&#39;app1/0.1@user/testing&#39;, &#39;680239a70c97f93d4d3dba4dec1b148d45ed087a&#39;, &#39;host&#39;, &#39;3&#39;]]]
</pre></div>
</div>
<p>The build order tells that we need to build <code class="docutils literal notranslate"><span class="pre">libd/0.1&#64;user/testing</span></code> and <code class="docutils literal notranslate"><span class="pre">app1/0.1&#64;user/testing</span></code>
in that order, for both Release and Debug configurations (again this can also be delegated to other build agents)</p>
<p>That build can be done with command:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan install libd/0.1@user/testing --build=libd/0.1@user/testing --lockfile=locks/app1_release.lock
  --lockfile-out=locks/app1_release_updated.lock
</pre></div>
</div>
<p>Note that we are creating a new temporary <em>app1_release_updated.lock</em> lockfile, that will contain and lock
the binary produced by the build of <code class="docutils literal notranslate"><span class="pre">libd</span></code>. If this was implemented in CI, the <em>app1_release.lock</em> would
be sent to the build agent, and it would return a modified <em>app1_release_updated.lock</em>. The way to
integrate this information into the existing lockfile, necessary to keep building other downstream packages
is:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan lock update locks/app1_release.lock locks/app1_release_updated.lock
</pre></div>
</div>
<p>Now that <em>locks/app1_release.lock</em> is updated we could launch in exactly the same way the build of <code class="docutils literal notranslate"><span class="pre">app1</span></code>:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ conan install app1/0.1@user/testing --build=app1/0.1@user/testing --lockfile=locks/app1_release.lock
  --lockfile-out=locks/app1_release_updated.lock
</pre></div>
</div>
<p>The process will be repeated (or it could also run in parallel) for the Debug configuration.</p>
<p>After the <code class="docutils literal notranslate"><span class="pre">app1/0.1&#64;user/testing</span></code> product pipeline finishes, then the <code class="docutils literal notranslate"><span class="pre">app2/0.2&#64;user/testing</span></code> one will
be started. With this setup and example, it is very important that the products pipelines are ran sequentially,
otherwise it is possible that the same binaries are unnecesarily built more than once.</p>
<p>When the products pipeline finishes it means that the changes proposed by the developer in their Pull Request that
would result in a new <code class="docutils literal notranslate"><span class="pre">libb/0.2&#64;user/testing</span></code> package are safe to be merged and will be integrated in our
product packages without problems. When the Pull Request is merged there might be two alternatives:</p>
<ul class="simple">
<li>The merge is a merge commit, with a different revision and possible different source as the result of a real merge,
than the source used in this CI job. Then it is necessary to fire again a new job that will build these packages.</li>
<li>If the merge is a clean fast-forward, then the packages that were built in this job would be valid, and could be
copied from the repository <code class="docutils literal notranslate"><span class="pre">conan-build</span></code> to the <code class="docutils literal notranslate"><span class="pre">conan-develop</span></code>.</li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../mastering.html" class="btn btn-neutral float-right" title="Mastering Conan" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="build_order.html" class="btn btn-neutral" title="Build order in lockfiles" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, JFrog.
      <span><a href="#" class="ot-sdk-show-settings">Cookies Settings</a></span>
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 1.28
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          
            <dd><a href="/en/latest/index.html">1.30</a></dd>
          
        
          
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
          
        
          
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
          
        
          
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
          
        
          
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
          
        
          
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
          
        
          
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
          
        
          
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
          
        
          
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
          
        
          
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
          
        
          
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
          
        
          
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
          
        
          
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
          
        
          
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
          
        
          
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
          
        
          
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
          
        
          
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
          
        
          
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
          
        
          
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
          
        
          
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
          
        
          
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
          
        
          
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
          
        
          
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
          
        
          
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
          
        
          
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
          
        
          
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
          
        
          
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
          
        
          
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
          
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/en/1.28/conan.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.28.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../_static/js/modernizr.min.js"></script>
  <script src="../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("1.28");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>